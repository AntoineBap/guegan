@use "sass:color";

// --- VARIABLES ---
$gold-primary: #D4AF37;
$gold-light: rgba($gold-primary, 0.1);
$black: #111111;
$white: #ffffff;
$gray-light: #f4f4f4;
$border-color: #e0e0e0;

// --- MIXINS ---
@mixin card-section {
  background: $white;
  border: 1px solid $border-color;
  border-radius: 8px;
  padding: 1.5rem;
  margin-bottom: 1.5rem;
  box-shadow: 0 2px 5px rgba(0,0,0,0.02);
}

// --- LAYOUT ---
.page-layout {
  display: flex;
  height: 100vh;
  width: 100%;
  overflow: hidden;
}

// --- COLONNE GAUCHE ---
.config-panel {
  flex: 1;
  min-width: 600px;
  height: 100%;
  overflow-y: auto;
  padding: 3rem 4rem;
  background-color: $white;
  border-right: 1px solid $border-color;

  &::-webkit-scrollbar { width: 6px; }
  &::-webkit-scrollbar-track { background: transparent; }
  &::-webkit-scrollbar-thumb { background: #ccc; border-radius: 3px; }

  h1 {
    font-size: 2.2rem;
    margin-bottom: 2.5rem;
    font-weight: 300;
    .gold-text { color: $gold-primary; font-weight: 600; font-style: italic; }
  }
}

// --- COLONNE DROITE ---
.summary-panel {
  width: 400px;
  background-color: #f9f9f9;
  padding: 3rem 2rem;
  border-left: 1px solid $border-color;
  display: flex;
  flex-direction: column;
  
  .summary-card {
    @include card-section;
    position: sticky;
    top: 2rem;
    padding: 2rem;
    
    h2 { font-size: 1.4rem; margin-bottom: 1.5rem; color: $black; }

    .summary-section {
      margin-bottom: 1.2rem;
      border-bottom: 1px solid #eee;
      padding-bottom: 0.8rem;
      h3 { font-size: 0.9rem; color: #777; margin-bottom: 0.3rem; font-weight: 500; }
      p { font-size: 1rem; font-weight: 600; color: $black; margin: 0; }
      .summary-detail { font-size: 0.85rem; color: #555; font-weight: 400; margin-top: 2px; }
    }

    .price-section {
      margin-top: 2rem; margin-bottom: 1.5rem; display: flex; justify-content: space-between; align-items: baseline;
      span:first-child { font-size: 1.1rem; color: #666; }
      .price-value { font-size: 2rem; font-weight: 700; color: $gold-primary; }
    }

    .btn-primary {
      width: 100%; background-color: $gold-primary; color: $white; border: none; font-weight: 600;
      text-transform: uppercase; letter-spacing: 1px; cursor: pointer; padding: 15px; font-size: 1rem; border-radius: 6px; transition: all 0.3s ease;
      &:hover { background-color: color.adjust($gold-primary, $lightness: -10%); transform: translateY(-2px); }
    }
  }
}

// --- COMPONENTS STYLES ---
.form-group {
  margin-bottom: 1.5rem;
  label { display: block; margin-bottom: 0.8rem; font-weight: 700; font-size: 0.85rem; text-transform: uppercase; letter-spacing: 1px; color: $black; }
  &.section-box {
    @include card-section;
    .section-title { font-size: 1.1rem; text-transform: none; letter-spacing: 0; margin-bottom: 1.2rem; border-bottom: 1px solid $gray-light; padding-bottom: 0.5rem; }
  }
}

input[type="number"], input[type="text"], select {
  width: 100%; padding: 12px 15px; background-color: $gray-light; border: 1px solid transparent; border-radius: 6px; font-size: 1rem; color: $black; transition: all 0.3s ease;
  &:focus { outline: none; border-color: $gold-primary; background-color: $white; box-shadow: 0 0 0 3px rgba($gold-primary, 0.1); }
}

.inputs-row {
  display: flex;
  gap: 20px;
  flex-wrap: wrap; // Permet de passer à la ligne si l'écran est trop petit

  // MODIFICATION ICI : On cible tous les enfants directs (> *) pour inclure le select ET la div
  > * {
    flex: 1;
    min-width: 180px; // Sécurité : empêche l'élément de devenir trop petit (votre bug actuel)
  }

  > div {
    span {
      display: block;
      font-size: 0.85rem;
      margin-bottom: 5px;
      color: #666;
      white-space: nowrap; // Empêche le texte "Décalage bord..." de se casser sur 3 lignes
    }
  }
}
.small-input { max-width: 120px; margin-top: 10px; }

.corian-color, .drilling-options, .sink-options-list { display: flex; gap: 10px; flex-wrap: wrap; }
button {
  flex: 1; padding: 12px 20px; font-size: 0.95rem; cursor: pointer; border-radius: 6px; transition: all 0.3s ease; white-space: nowrap;
  background-color: $gold-light; border: 1px solid $gold-primary; color: $black; font-weight: 500;
  &:hover:not(:disabled) { background-color: rgba($gold-primary, 0.2); }
  &.active, &.active-small { background-color: $black; color: $white; border-color: $black; font-weight: 600; box-shadow: 0 4px 10px rgba(0,0,0,0.2); }
  &:disabled { opacity: 0.5; cursor: not-allowed; background-color: #eee; border-color: #ddd; color: #999; }
}
.sink-options-list { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }

.checkbox-group {
  @include card-section; display: flex; flex-direction: column;
  label {
    display: flex; align-items: center; cursor: pointer; text-transform: none; font-size: 1rem; margin: 0;
    input[type="checkbox"] {
      appearance: none; -webkit-appearance: none; width: 24px; height: 24px; border: 1px solid $black; border-radius: 4px; margin-right: 15px;
      display: grid; place-content: center; transition: all 0.2s ease; background-color: transparent;
      &::before { content: ""; width: 14px; height: 14px; transform: scale(0); transition: 120ms transform ease-in-out; box-shadow: inset 1em 1em $gold-primary; transform-origin: center; clip-path: polygon(14% 44%, 0 65%, 50% 100%, 100% 16%, 80% 0%, 43% 62%); }
      &:checked { background-color: $black; border-color: $black; &::before { transform: scale(1); } }
    }
  }
}

.actions { margin-top: 3rem; padding-top: 2rem; border-top: 1px solid $border-color; display: flex; gap: 20px; 
  .btn-secondary { flex: 1; background-color: transparent; color: $black; border: 1px solid $black; padding: 15px; &:hover { background-color: $gray-light; } }
}
.weight-alert { margin-top: 15px; background-color: rgba(255, 166, 0, 0.1); border-left: 4px solid orange; padding: 10px 15px; border-radius: 4px; display: flex; gap: 10px; align-items: flex-start; .text { font-size: 0.9rem; p { margin: 0; color: #555; } strong { color: #d35400; } } }

@media (max-width: 1100px) {
  .page-layout { flex-direction: column; height: auto; overflow: visible; }
  .config-panel { width: 100%; min-width: 0; border-right: none; }
  .summary-panel { width: 100%; border-left: none; border-top: 1px solid $border-color; .summary-card { position: static; } }
}